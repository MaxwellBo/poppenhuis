<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlayCanvas Gaussian Splat Viewer</title>
    
    <!-- Import map for PlayCanvas engine -->
    <script type="importmap">
        {
            "imports": {
                "playcanvas": "https://cdn.jsdelivr.net/npm/playcanvas@2.3.3/build/playcanvas.mjs"
            }
        }
    </script>

    <style>
    </style>
    
    <!-- Import PlayCanvas Web Components -->
    <script type="module" src="https://cdn.jsdelivr.net/npm/@playcanvas/web-components@0.1.10/dist/pwc.mjs"></script>
</head>
<body>
    <div id="container">
        <pc-app>
            <!-- Define the Gaussian Splat asset -->
            <pc-asset id="my-splat" 
                     type="gsplat" 
                     src="dmitry.ply" 
                     preload>
            </pc-asset>
            <pc-asset id="camera-controls" 
                src="https://cdn.jsdelivr.net/npm/playcanvas@2.3.3/scripts/esm/camera-controls.mjs" 
                preload>
            </pc-asset>
            
            <pc-scene>
                <!-- Camera setup -->
                <pc-entity name="camera root">
                    <pc-entity name="camera" position="0 2 3.5">
                        <pc-camera></pc-camera>
                        <pc-scripts>
                            <pc-script name="cameraControls" attributes='{
                                "enableFly": false,
                                "enablePan": false,
                                "focusPoint": [0, 2, 0],
                                "pitchRange": [0, 90],
                                "sceneSize": 3,
                                "zoomMin": 0.5,
                                "zoomMax": 3
                            }'></pc-script>
                        </pc-scripts>
                    </pc-entity>
                </pc-entity>
                
                <!-- Light setup -->
                <pc-entity name="light" rotation="45 45 0">
                    <pc-light type="directional" intensity="1"></pc-light>
                </pc-entity>
                
                <!-- Gaussian Splat entity -->
                <pc-entity name="splat-model">
                    <pc-splat asset="my-splat"></pc-splat>
                </pc-entity>
            </pc-scene>
        </pc-app>
    </div>
</body>
</html>